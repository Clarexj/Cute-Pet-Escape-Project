# 《代号：萌宠大逃亡》GDD Gap 再评估（2025-10-04）

本报告基于 `branch_env_interaction` 目录提供的最新脚本，对照《代号：萌宠大逃亡》GDD V1.0 核查当前主工程尚未满足的要求，并给出后续优化重点。

## 核心结论概览
- **摄像机体验仍未满足“有限自由转动”**：当前 `CameraController` 仅响应水平拖拽，缺少俯仰范围控制，与 GDD 对“越肩视角可自由转动”的描述不符。
- **环境互动闭环尚未合并主线**：主工程的 `Board` 和 `HunterController` 依旧缺乏眩晕、路障碰撞与踩碎读条；储物柜系统缺席，环境互动玩法未形成闭环。
- **胜负与互动联动不足**：胜负阈值写死为 3，逃生门仅与矿石收集绑定，未体现环境互动对胜负流程的影响。
- **UI/反馈与联机接口仍是原型级**：缺少眩晕/路障提示等关键反馈；网络管理器中大量核心事件仍为 TODO，尚未与本地游戏流程融合。

## 重点差距与建议
### 1. 摄像机与操控反馈
- **缺口**：越肩摄像机只能水平旋转，且没有 GDD 要求的“轻微摇摄 + 俯仰限制”。
- **建议**：
  - 在 `CameraController` 中新增俯仰角限制、重力回中与平滑阻尼参数；
  - UI 层提供“摄像机重置”提示与灵敏度设置入口。

### 2. 环境互动落地
- **缺口**：主线版本缺乏 `Board.ts` 和 `Cabinet.ts` 的升级逻辑。
- **建议**：
  - 将 `branch_env_interaction/CocosProject/assets/scripts/` 下的脚本合并进主工程；
  - 将 Node 自测脚本纳入 CI，确保踩碎、眩晕、柜子流程在每次提交后自动校验。

### 3. 胜利条件与局内事件
- **缺口**：胜负条件与 GDD 描述不一致，且环境互动未反馈到胜负流程。
- **建议**：
  - 依据 GDD 将胜利条件抽象为“逃生者逃脱 / 追捕者抓满”双向判定；
  - 将破坏木板、开柜等事件纳入计分或节奏调控（例如刷新逃生者逃生进度、触发追捕者冷却等）。

### 4. UI 与音频反馈
- **缺口**：缺少追捕者眩晕提示、木板破坏进度条、柜子状态等关键信息。
- **建议**：
  - 在 HUD 上新增眩晕状态、读条百分比、柜子占用提示；
  - 结合音效与屏幕震动强化木板倒地、破坏完成等关键事件。

### 5. 联机同步
- **缺口**：`NetworkManager` 中大量 TODO 未实现，环境互动事件缺少同步与回放。
- **建议**：
  - 为木板倒地、破坏进度、柜子开关等事件定义网络消息；
  - 在服务端校验交互条件，并广播状态变化，确保多端一致性。

## 下一步排期建议
1. **P0：合并环境互动脚本并通过 Node 自测**（保障最小可玩闭环）。
2. **P1：补齐摄像机与 UI 反馈**（直接影响体验质感）。
3. **P2：迭代胜负条件与联网接口**（支撑后续联机场景与数值平衡）。

如需更新评估结果，请在此文件追加新日期的章节，或将过期内容替换为最新结论。
