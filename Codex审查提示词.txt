# 复制下面的内容给Codex

---

你好Codex，我需要你帮我审查一段Cocos Creator 3.x的TypeScript代码。

## 背景
这是一款3D、1v4非对称对抗游戏《萌宠大逃亡》的第一阶段开发代码。
当前任务：实现逃生者的虚拟摇杆移动系统（任务1.1）

## 需要审查的代码文件

请审查以下3个TypeScript文件：

1. `/Users/clare/Desktop/前哨AI小课/ClareProject/Cute-Pet-Escape-Project/CocosProject/assets/scripts/Joystick.ts`
   - 功能：虚拟摇杆UI控制

2. `/Users/clare/Desktop/前哨AI小课/ClareProject/Cute-Pet-Escape-Project/CocosProject/assets/scripts/PlayerController.ts`
   - 功能：玩家移动控制（基于Transform，非物理引擎）

3. `/Users/clare/Desktop/前哨AI小课/ClareProject/Cute-Pet-Escape-Project/CocosProject/assets/scripts/CameraFollow.ts`
   - 功能：第三人称摄像机跟随

## 设计要求参考
请同时查看以下设计文档：
- `/Users/clare/Desktop/前哨AI小课/ClareProject/Cute-Pet-Escape-Project/GAME_DESIGN_DOCUMENT.md`
- `/Users/clare/Desktop/前哨AI小课/ClareProject/Cute-Pet-Escape-Project/DELIVERY_CHECKLIST.md`

## 审查重点

请重点检查：

### 1. 代码正确性
- TypeScript类型定义是否正确
- 逻辑是否有错误（特别是向量运算、方向转换）
- 是否有null/undefined风险
- 边界情况处理（除零、归一化等）

### 2. Cocos Creator 3.x 最佳实践
- 组件生命周期使用是否正确
- 事件监听是否正确注册和销毁
- 向量运算是否高效（是否频繁创建对象）
- 内存泄漏风险

### 3. 性能优化
- 是否有不必要的计算
- 是否可以复用对象
- update/lateUpdate中的性能问题

### 4. 功能需求
- 摇杆方向是否相对摄像机（第三人称标准）
- 角色是否面向移动方向
- 摄像机是否平滑跟随

### 5. 代码质量
- 可读性
- 可维护性
- 是否为后续任务预留扩展性

## 期望输出

请提供：

1. **整体评价**（1-10分）
   - 代码质量得分
   - 主要优点
   - 主要问题

2. **问题清单**
   - 🔴 严重问题（必须修复）
   - 🟡 潜在问题（建议修复）
   - 🟢 优化建议（可选）

3. **具体修改建议**
   - 每个问题的修改代码示例
   - 优化思路说明

4. **符合性检查**
   - 是否符合Cocos Creator 3.x规范
   - 是否符合游戏设计文档要求

## 技术背景说明

- 使用Transform控制移动（非RigidBody），这是有意的设计决策
- 移动方向相对摄像机，符合第三人称游戏标准
- 目标平台：微信小游戏

---

详细审查清单请查看：
`/Users/clare/Desktop/前哨AI小课/ClareProject/Cute-Pet-Escape-Project/任务1.1代码审查清单.md`

谢谢！
